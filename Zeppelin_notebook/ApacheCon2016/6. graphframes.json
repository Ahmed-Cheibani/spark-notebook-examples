{"paragraphs":[{"text":"%md\n![](https://databricks.com/wp-content/uploads/2016/03/social-network-graph-diagram.png)","authenticationInfo":{},"dateUpdated":"May 11, 2016 11:16:53 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462945763049_-1076715241","id":"20160511-054923_1809743547","result":{"code":"SUCCESS","type":"HTML","msg":"<p><img src=\"https://databricks.com/wp-content/uploads/2016/03/social-network-graph-diagram.png\" alt=\"\" /></p>\n"},"dateCreated":"May 11, 2016 5:49:23 AM","dateStarted":"May 11, 2016 11:16:53 PM","dateFinished":"May 11, 2016 11:16:53 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1615","focus":true},{"text":"%md\n\n## Add this to Spark packages\n\n## `graphframes:graphframes:0.1.0-spark1.6`\n\nhttp://dl.bintray.com/spark-packages/maven/graphframes/graphframes/0.1.0-spark1.6/graphframes-0.1.0-spark1.6.jar\nAlternatively, add set this in the environment `export SPARK_SUBMIT_OPTIONS=\"--jars /opt/incubator-zeppelin/interpreter/spark/graphframes-0.1.0-spark1.6.jar\"`\n","authenticationInfo":{},"dateUpdated":"May 11, 2016 11:16:55 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462947231621_-728970110","id":"20160511-061351_923282828","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Add this to Spark packages</h2>\n<h2><code>graphframes:graphframes:0.1.0-spark1.6</code></h2>\n<p>http://dl.bintray.com/spark-packages/maven/graphframes/graphframes/0.1.0-spark1.6/graphframes-0.1.0-spark1.6.jar\n<br  />Alternatively, add set this in the environment <code>export SPARK_SUBMIT_OPTIONS=\"--jars /opt/incubator-zeppelin/interpreter/spark/graphframes-0.1.0-spark1.6.jar\"</code></p>\n"},"dateCreated":"May 11, 2016 6:13:51 AM","dateStarted":"May 11, 2016 11:16:55 PM","dateFinished":"May 11, 2016 11:16:56 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1616","focus":true},{"text":"// Vertex DataFrame\nval v = sqlContext.createDataFrame(List(\n  (\"a\", \"Alice\", 34),\n  (\"b\", \"Bob\", 36),\n  (\"c\", \"Charlie\", 30),\n  (\"d\", \"David\", 29),\n  (\"e\", \"Esther\", 32),\n  (\"f\", \"Fanny\", 36),\n  (\"g\", \"Gabby\", 60)\n)).toDF(\"id\", \"name\", \"age\")\n// Edge DataFrame\nval e = sqlContext.createDataFrame(List(\n  (\"a\", \"b\", \"friend\"),\n  (\"b\", \"c\", \"follow\"),\n  (\"c\", \"b\", \"follow\"),\n  (\"f\", \"c\", \"follow\"),\n  (\"e\", \"f\", \"follow\"),\n  (\"e\", \"d\", \"friend\"),\n  (\"d\", \"a\", \"friend\"),\n  (\"a\", \"e\", \"friend\")\n)).toDF(\"src\", \"dst\", \"relationship\")\n\nimport org.graphframes.GraphFrame\n// Create a GraphFrame\nval g = GraphFrame(v, e)","authenticationInfo":{},"dateUpdated":"May 11, 2016 10:56:45 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462946440846_102741521","id":"20160511-060040_2042724428","dateCreated":"May 11, 2016 6:00:40 AM","dateStarted":"May 11, 2016 10:56:45 PM","dateFinished":"May 11, 2016 10:58:17 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1617","errorMessage":""},{"text":"z.show(g.inDegrees)","authenticationInfo":{},"dateUpdated":"May 11, 2016 11:04:27 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462945776513_-155779616","id":"20160511-054936_1795802189","dateCreated":"May 11, 2016 5:49:36 AM","dateStarted":"May 11, 2016 11:04:27 PM","dateFinished":"May 11, 2016 11:04:30 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1618","errorMessage":""},{"text":"val results = g.pageRank.resetProbability(0.01).maxIter(20).run()\nz.show(results.vertices.select(\"id\", \"pagerank\"))","authenticationInfo":{},"dateUpdated":"May 11, 2016 11:06:39 PM","config":{"colWidth":12,"graph":{"mode":"pieChart","height":300,"optionOpen":false,"keys":[{"name":"id","index":0,"aggr":"sum"}],"values":[{"name":"pagerank","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"id","index":0,"aggr":"sum"},"yAxis":{"name":"pagerank","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462945986140_1055287852","id":"20160511-055306_758654823","dateCreated":"May 11, 2016 5:53:06 AM","dateStarted":"May 11, 2016 11:05:19 PM","dateFinished":"May 11, 2016 11:06:20 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1619","errorMessage":""},{"text":"val motifs = g.find(\"(a)-[e]->(b); (b)-[e2]->(a)\")\nz.show(motifs)\n","authenticationInfo":{},"dateUpdated":"May 11, 2016 11:07:50 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1463007881186_120474658","id":"20160511-230441_211233403","dateCreated":"May 11, 2016 11:04:41 PM","dateStarted":"May 11, 2016 11:07:50 PM","dateFinished":"May 11, 2016 11:07:53 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1620","errorMessage":""},{"text":"z.show(motifs.filter(\"b.age > 30\"))","authenticationInfo":{},"dateUpdated":"May 11, 2016 11:08:06 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1463008071496_-1940146861","id":"20160511-230751_1489669965","dateCreated":"May 11, 2016 11:07:51 PM","dateStarted":"May 11, 2016 11:08:06 PM","dateFinished":"May 11, 2016 11:08:09 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1621","errorMessage":""},{"text":"%md\n\n%%% yuml style=nofunky scale=120 format=svg\n[a]<>->[Common] \n[Common]<-<>[c]\n%%%\n","dateUpdated":"May 11, 2016 11:17:01 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/markdown","editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1463008170592_-2108946004","id":"20160511-230930_1847138807","dateCreated":"May 11, 2016 11:09:30 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1622","dateFinished":"May 11, 2016 11:17:00 PM","dateStarted":"May 11, 2016 11:17:00 PM","result":{"code":"SUCCESS","type":"HTML","msg":"<img src=\"http://yuml.me/diagram/nofunky;scale:120;/class/[a]<>->[Common], [Common]<-<>[c].svg\"/>"},"focus":true},{"text":"val motifs = g.find(\"(a)-[]->(common); (c)-[]->(common)\")\nz.show(motifs.select(\"a.name\", \"common.name\", \"c.name\"))\n","dateUpdated":"May 11, 2016 11:13:08 PM","config":{"colWidth":12,"graph":{"mode":"pieChart","height":300,"optionOpen":false,"keys":[{"name":"name","index":0,"aggr":"sum"}],"values":[{"name":"name","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"name","index":0,"aggr":"sum"},"yAxis":{"name":"name","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1463008065860_-914806367","id":"20160511-230745_1684566192","dateCreated":"May 11, 2016 11:07:45 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1623","dateFinished":"May 11, 2016 11:13:04 PM","dateStarted":"May 11, 2016 11:13:03 PM","errorMessage":"","focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1463008303976_1959605049","id":"20160511-231143_546149245","dateCreated":"May 11, 2016 11:11:43 PM","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2205","errorMessage":""}],"name":"graphframes","id":"2BMS4RN51","angularObjects":{"2BJYXC3U9:shared_process":[],"2BM3HNZ9A:shared_process":[],"2BK6YYY9F:shared_process":[],"2BM8469CZ:shared_process":[],"2BMJ5HHS1:shared_process":[],"2BJUGUTZ6:shared_process":[],"2BK9JP4UX:shared_process":[],"2BN37E28N:shared_process":[],"2BMSH41WH:shared_process":[],"2BMXC4PKP:shared_process":[],"2BKY2E1KT:shared_process":[],"2BK94F9SU:shared_process":[],"2BJS7ZX34:shared_process":[],"2BJW3KXB4:shared_process":[],"2BM5ENSC4:shared_process":[],"2BM7G9XDR:shared_process":[],"2BKW36KUE:shared_process":[],"2BHV8DWGW:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}